pico-8 cartridge // http://www.pico-8.com
version 41
__lua__
--initialize (called at start)
function _init()
 cls(0)

 ship_x=60
 ship_y=60

 laser_x=-8
 laser_y=-8

 ship_spd_x=0
 ship_spd_y=0
end

--update game data (=30fps)
function _update()
	--reset speed
	ship_spd_x=0
	ship_spd_y=0

	--set x speed
	if btn(0) and btn(1) then
		if btn_0_was_last then ship_spd_x+=2
		else ship_spd_x-=2 end
	elseif btn(0) then 
		btn_0_was_last=true
		ship_spd_x-=2
	elseif btn(1) then
		btn_0_was_last=false
		ship_spd_x+=2
	end

	--set y speed
	if btn(2) and btn(3) then
		if btn_2_was_last then ship_spd_y+=2
		else ship_spd_y-=2 end
	elseif btn(2) then 
		btn_2_was_last=true
		ship_spd_y-=2
	elseif btn(3) then
		btn_2_was_last=false
		ship_spd_y+=2
	end

	--calculate ship position
	ship_x+=ship_spd_x
	ship_y+=ship_spd_y

	--fire laser
	if btnp(5) then
		laser_x=ship_x
		laser_y=ship_y-3
		sfx(0)
	end
	laser_y-=3
	
	--reset position if hit bound
	if ship_x>=120 then
		ship_x=120
	elseif ship_x<=0 then
		ship_x=0
	end

	if ship_y>=120 then
		ship_y=120
	elseif ship_y<=0 then
		ship_y=0
	end
end

-- draw new frame (~30fps)
function _draw()
	cls(0)
	spr(1,ship_x,ship_y)
	spr(2,laser_x,laser_y)
end
__gfx__
00000000000880000011110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000089980001cccc1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700083bb3801cc77cc100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000083993801c7777c100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000899999981cc77cc100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070089a99a9801cccc1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000088a99a88001cc10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000008888000001100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000100002f3502e350363502c35031350293502d350273502635024350243502335022350203501e3501c3501a350183501535013350113500e3500b350073500435003350003000030002000005000050000500
