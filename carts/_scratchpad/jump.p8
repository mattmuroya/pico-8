pico-8 cartridge // http://www.pico-8.com
version 41
__lua__
function log(input)
	printh("> "..tostr(input))
end

function _init()
  player={
    x=60,
    y=60,
    f=0,
  }
  y_force=0
  jump_height=0
  airborne=false
end

function _update()
  if btn(4) and airborne==false then
    y_force=-4
    airborne=true
  end
  
  if y_force<0 then -- moving upward
    jump_height+=1
  elseif y_force>0 then -- moving down
    jump_height-=1
  end

  if jump_height>=8 then
    y_force+=1
  end

  player.y+=y_force

  if airborne and player.y==60 then -- player is airborn and new pos is ground
    y_force=0
    jump_height=0
    airborne=false
  end


end


function _draw()
  cls()
  map()
  spr(player.f,player.x,player.y)
end
__gfx__
000000000eeeeee0ccccccccbbbbbbbb44444444cccccccccccccccccccccccccccdddcccccccccccccccccc0000000000000000000000000000000000000000
0eeeeee0eeeeeeeeccccccccb3b3b3b344444444cccccccccccccccccccccccccd6776dddccccccccccccccc0000000000000000000000000000000000000000
eeeeeeeeeefffffecccccccc3333333344444444ccccccccccccccccccccddddd6777777dddccccccccccccc0000000000000000000000000000000000000000
eefffffeeff2ff2fcccccccc3535353544444444cccccccccccccccccccd67777777777777ddcdddddddcccc0000000000000000000000000000000000000000
eff2ff2fefffffffcccccccc5555555544444444cccccccccccccccccdd77777777777777777d67777776dcc0000000000000000000000000000000000000000
efffffffeebbbbe0cccccccc5454545444444444cccbcccccbccccbcdd7777777777777677777777777777dc0000000000000000000000000000000000000000
eebbbbe00deeeed0cccccccc4444444444444444ccbbcbccccbcbcbcd777777777777777677777777777776d0000000000000000000000000000000000000000
0edeede000eee000cccccccc4444444444444444cccbbcccccbccbccd777777677777776777777767777777d0000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000d77777677777777777777767777777770000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000d777777677777777777777767777777d0000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000d777777777777777777777777777776d0000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000d77777777777777777777777777777dc0000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000d67777777777777777777777777777dc0000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cd677777777777776d777777777776dc0000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000ccddddd677677776ddd67776ddddddcc0000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cccccdddddcdddddcccdddddcccccccc0000000000000000000000000000000000000000
__gff__
0000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0202020202020202020202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
02020202020202020708090a0202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
02020202020202021718191a0202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
020708090a020202020202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
021718191a020202020202020207080900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020217181900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0206020506020206020502060502060200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0404040404040404040404040404040400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0404040404040404040404040404040400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0404040404040404040404040404040400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
